# AndroidArtifacts Development

## Plugins
This projects provides two plugins.
The `guru.stefma.androidartifacts` and the `guru.stefma.javaartifacts` plugin.

Both plugins share the same API. The `ArtifactsExtension`.
Beside of this I want to make sure that each generated `Task` should be
named and behave similar in each plugin.

### AndroidArtifacts Plugin
#### Tasks
The following tasks are available for a default Android library with a `release` and a `debug` build type:
* androidArtifactDebug
* androidArtifactDebugJavadoc
* androidArtifactDebugSources
* androidArtifactRelease
* androidArtifactReleaseJavadoc
* androidArtifactReleaseSources

If you library provides more than these two **default** build types more tasks 
with the respective build type name will be created.

If the `org.jetbrains.kotlin-android` plugin is applied there will be also a `androidArtifactDebugDokka` and `androidArtifactReleaseDokka` task.
But this is currently in "experimental mode".

#### Tasks output
The output for the `androidArtifact{$libraryVariant}` is expected at `$project/build/generated/outputs/aar/$projectName-$variantName.aar`.
This is the default output path for the `assemble{$libraryVariant}` task which is generated by the Android Gradle Plugin.

The `*Javadoc` and `*Sources` task output will be created inside the `$project/build/libs/$projectName-$version-$type.jar` 
(while `$type` is either `javadoc` or `sources`).

The published aar and jar's can be then found in your local maven. 
Typically this is located at `~/.m2/repository/`.

### KDoc support
As already mentioned above there is some **experimental** KDoc support.

If the plugin detect that the `org.jetbrains.kotlin-android` plugin is applied it will create belong to the `javadoc` task (and output)
a `dokka` task and output.

### JavaArtifacts Plugin
#### Tasks
This plugin will create exactly the same tasks like the `androidartifacts` plugin 
but with the prefix `java` instead of the build type (e.g. `release`).

This leads to the following available tasks:
* androidArtifactJava
* androidArtifactJavaJavadoc
* androidArtifactJavaSources

### Tasks
One task which is available across these plugins is the `androidArtifactGeneratedPublications` task.
This will display **all generated publication** names.

This is quite useful if you want to find out *which* publication you want to use for different actions.
Like publishing it to Bintray or Artifactory.